---
title: 什么是事务
date: 2025年4月1日
tag:
- 后端
- MySQL
---

# 事务概述

事务(Transaction)是数据库管理系统中的一个重要概念，它是一组不可分割的数据库操作序列。事务包含一个或多个业务操作，这些操作要么都执行，要么都不执行。事务常被用来确保数据的一致性。

## ACID 特性

事务具有以下四个基本特性，通常被称为 ACID 特性：

### 1. 原子性 (Atomicity)
- 事务中的所有操作要么全部成功执行，要么全部失败回滚
- 不存在部分执行的情况
- 例如：转账操作中，扣款和加款必须同时成功或同时失败

### 2. 一致性 (Consistency)
- 事务执行前后，数据库必须保持一致性状态
- 所有数据必须满足预定义的规则和约束
- 例如：账户余额不能为负数

### 3. 隔离性 (Isolation)
- 多个事务并发执行时，一个事务的执行不应影响其他事务
- 通过不同的隔离级别来控制并发访问
- 常见的隔离级别：读未提交、读已提交、可重复读、串行化

### 4. 持久性 (Durability)
- 事务一旦提交，其结果就是永久性的
- 即使系统发生故障，已提交的事务结果也不会丢失
- 通过日志机制来保证

## 应用场景

在实际开发中，事务主要应用于以下场景：

1. 银行转账业务
2. 订单处理系统
3. 库存管理系统
4. 支付系统

## 开发注意事项

在开发过程中，需要注意以下几点：

1. 合理设置事务隔离级别，平衡并发性能和数据一致性
2. 避免长事务，减少事务持有时间
3. 注意死锁问题，合理设计事务顺序
4. 使用事务日志进行故障恢复
5. 在分布式系统中需要考虑分布式事务的处理
